# ========================================
# WHATSAPP VERIFICATION MODULE
# ========================================

# PROVIDER SELECTION (twilio | meta)
# Cambiar este valor permite cambiar de proveedor sin tocar código
WHATSAPP_PROVIDER=twilio

# ========================================
# TWILIO CREDENTIALS (si WHATSAPP_PROVIDER=twilio)
# ========================================
# Obtener de: https://console.twilio.com/

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Número WhatsApp de Twilio
# Sandbox (desarrollo): whatsapp:+14155238886
# Producción: whatsapp:+52XXXXXXXXXX (tu número aprobado)
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# Número SMS para fallback (opcional)
# Solo si compraste un número Twilio para SMS
# TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# META WHATSAPP BUSINESS API (si WHATSAPP_PROVIDER=meta)
# ========================================
# Obtener de: https://developers.facebook.com/

WHATSAPP_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
WHATSAPP_PHONE_NUMBER_ID=123456789012345
WHATSAPP_BUSINESS_ACCOUNT_ID=123456789012345
WHATSAPP_APP_SECRET=xxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# CONFIGURACIÓN OTP
# ========================================

# Tiempo de expiración del código (en minutos)
OTP_EXPIRATION_MINUTES=10

# Máximo de intentos para verificar un código
OTP_MAX_ATTEMPTS=3

# Tiempo de espera entre reenvíos (en segundos)
OTP_RESEND_COOLDOWN_SECONDS=60

# ========================================
# RATE LIMITING
# ========================================

# Máximo de códigos OTP por número de teléfono en 24 horas
MAX_OTP_PER_PHONE_PER_DAY=5

# Máximo de códigos OTP por dirección IP en 1 hora
MAX_OTP_PER_IP_PER_HOUR=10

# ========================================
# FIREBASE CLOUD MESSAGING (FCM)
# ========================================

# Máximo de dispositivos por usuario (previene spam de tokens)
# Recomendado: 10 dispositivos (web + móviles)
FCM_MAX_TOKENS_PER_USER=10

# Días antes de limpiar tokens no usados (cleanup automático)
# Los tokens que no se usen durante este período serán eliminados
# Recomendado: 90 días (3 meses)
FCM_TOKEN_CLEANUP_DAYS=90

# Tamaño de lote para envíos multicast (límite de FCM: 500)
# FCM permite enviar a un máximo de 500 dispositivos por request
# Recomendado: 500 para máxima eficiencia
FCM_BATCH_SIZE=500

# NOTA: Firebase Admin SDK usa las credenciales existentes para FCM
# No se requieren variables adicionales de configuración
